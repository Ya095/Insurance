# Insurance App

## Краткое описание 
Приложение позволяет подсчитать стоимость страхования для определенного типа груза на конкретную дату перевозки.  

## Развертывание приложения
1) Запустить docker-compose.yml
```bash
docker compose up -d
```
2) Перейти на [localhost](http://127.0.0.1:9999/docs), где можно протестировать API.

## Endpoints
```text
1) "/upload_tariffs" - Загрузка .json файла с тарифами (тестовый .json -> test_json/test_file.json)
2) "/count_price" - Расчет цены страхования (в зависимости от даты перевозки, цены груза и его типа, если введенного типа нет в базе - рассчитывается по типу "Other")
```

## Что можно доделать/улучшить 
1. [ ] Добавить удаление и редактирование тарифов в crud (в отдельную таблицу с тарифами)  
 (+) Сделать каскадное удаление даных основной таблицы, если тариф удаляется.   
2. [ ] Добавить логирование изменение которое работает через батч в kafka
3. [ ] В сообщение отправляем айди пользователя (если есть), сообщение о действии (что за целевое действие), время события.
